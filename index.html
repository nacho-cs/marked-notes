<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="A way to take notes in markdown and have them appear properly."
    />
    <meta
      name="keywords"
      content="notetaking, notes, bootstrap, markdown, html, css, frontend, javascript"
    />
    <meta name="author" content="nacho-cs" />
    <title>• marked notes</title>
    <!-- stylesheets, make the website look good -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <!-- roboto mono, the font -->
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@100;300;400;500;700;900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght@500"
    />
    <link
      href="./format_list_bulleted_FILL0_wght400_GRAD0_opsz48.png"
      rel="icon"
      style="border-radius: 50%"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown-light.min.css"
      integrity="sha512-bm684OXnsiNuQSyrxuuwo4PHqr3OzxPpXyhT66DA/fhl73e1JmBxRKGnO/nRwWvOZxJLRCmNH7FII+Yn1JNPmg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css"
      integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0"
      crossorigin="anonymous"
    />
    <!-- no xss attacks today, sry ^^ -->
    <script
      defer
      src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.1/purify.min.js"
      integrity="sha512-TU4FJi5o+epsahLtM9OFRvH2gXmmlzGlysk9wtTFgbYbMvFzh3Cw1l3ubnYIvBiZCC/aurRHS408TeEbcuOoyQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <!-- markdown-it, converts markdown to html -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/markdown-it/13.0.1/markdown-it.min.js"
      integrity="sha512-SYfDUYPg5xspsG6OOpXU366G8SZsdHOhqk/icdrYJ2E/WKZxPxze7d2HD3AyXpT7U22PZ5y74xRpqZ6A2bJ+kQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <!-- bootstrap, css framework -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>
    <!-- dom-to-image, converts html elements to images -->
    <script
      defer
      src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"
      integrity="sha512-01CJ9/g7e8cUmY0DFTMcUw/ikS799FHiOA0eyHsUWfOetgbx/t6oV4otQ5zXKQyIrQGTHSmRVPIgrgLcZi/WMA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>
    <!-- highlight js, syntax highlighting -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <!-- my stuff -->
    <script defer src="script.min.js"></script>
    <link rel="stylesheet" href="style.min.css" />
    <!-- katex, renders math -->
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js"
      integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4"
      crossorigin="anonymous"
    ></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js"
      integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05"
      crossorigin="anonymous"
    ></script>
  </head>
  <body
    class="overflow-x-hidden"
    style="font-family: 'Roboto', sans-serif; background-color: var(--bg)"
    onload="localStorage.getItem('text') ? URLtoInput() : document.querySelector('textarea').value = '## start your notes with a header'; parse()"
  >
    <!-- the navbar at the top, manages everything -->
    <header
      class="navbar navbar-expand border-bottom shadow-sm user-select-none flex-wrap"
    >
      <div class="container-fluid" style="width: 95%">
        <div class="navbar-brand">
          <a href="./" class="nav-link"
            ><h4 style="font-weight: 700; margin: auto" class="dark-text">
              • marked notes
            </h4></a
          >
        </div>
        <ul
          class="navbar-nav flex flex-wrap"
          style="width: fit-content"
          id="options"
        >
          <li
            class="nav-item nav-link deco material-symbols-outlined dark-text"
            title="• add bold text"
            onclick="document.querySelector('textarea').value = `${document.querySelector('textarea').value}** **`; parse()"
          >
            format_bold
          </li>
          <li
            class="nav-item nav-link deco material-symbols-outlined dark-text"
            title="• add italics text"
            onclick="document.querySelector('textarea').value = `${document.querySelector('textarea').value}* *`; parse()"
          >
            format_italic
          </li>
          <li
            class="nav-item nav-link deco material-symbols-outlined dark-text"
            title="• add header"
            onclick="document.querySelector('textarea').value = `${document.querySelector('textarea').value}## `; parse()"
          >
            title
          </li>
          <li
            class="nav-item nav-link deco material-symbols-outlined dark-text"
            title="• add list"
            onclick="document.querySelector('textarea').value = `${document.querySelector('textarea').value}- `; parse()"
          >
            list
          </li>
          <li
            class="nav-item nav-link deco material-symbols-outlined dark-text"
            title="• add numbered list"
            onclick="document.querySelector('textarea').value = `${document.querySelector('textarea').value}1. `; parse()"
          >
            format_list_numbered
          </li>
          <li
            class="nav-item nav-link deco material-symbols-outlined dark-text"
            title="• add quote"
            onclick="document.querySelector('textarea').value = `${document.querySelector('textarea').value}> `; parse()"
          >
            format_quote
          </li>
          <li
            class="nav-item nav-link deco material-symbols-outlined dark-text"
            title="• add codeblock"
            onclick="document.querySelector('textarea').value = `${document.querySelector('textarea').value}\n~~~\n\n~~~`; parse()"
          >
            code
          </li>
          <li
            class="nav-item nav-link deco material-symbols-outlined dark-text"
            title="• add math equation"
            onclick="document.querySelector('textarea').value = `${document.querySelector('textarea').value}$$ $$`; parse()"
          >
            calculate
          </li>
          <li
            class="nav-item nav-link deco material-symbols-outlined dark-text"
            title="• add table"
            onclick="document.querySelector('textarea').value = `${document.querySelector('textarea').value}| | |\n|-|-|\n| | |`; parse()"
          >
            table_rows
          </li>
          <li
            class="nav-item nav-link deco material-symbols-outlined dark-text"
            title="• add link"
            onclick="const text = prompt('• link text'); const link = prompt('• link'); document.querySelector('textarea').value = `${document.querySelector('textarea').value}[${text}](${link})`; parse()"
          >
            link
          </li>
          <li
            class="nav-item nav-link deco material-symbols-outlined dark-text"
            title="• add image"
            onclick="text = prompt('• image alt text'); link = prompt('• image link'); if (link) document.querySelector('textarea').value = `${document.querySelector('textarea').value}\n![${text}](${link})`; parse()"
          >
            image
          </li>
        </ul>
        <hr />
        <ul
          class="navbar-nav flex flex-wrap"
          style="width: fit-content"
          id="settings"
        >
          <li
            class="nav-item nav-link material-symbols-outlined deco dark-text"
            title="• dark mode toggle"
            onclick="document.querySelector('html').classList.toggle('dark'); applyDarkMode()"
          >
            nightlight
          </li>
          <li
            class="nav-item material-symbols-outlined nav-link deco dark-text"
            title="• minimize the input"
            onclick="hide()"
            id="collapse"
          >
            arrow_back_ios
          </li>
          <li
            class="nav-item material-symbols-outlined nav-link deco dark-text"
            title="• share your notes"
            onclick="copyLink()"
          >
            send
          </li>
          <li
            class="nav-item material-symbols-outlined nav-link deco dark-text"
            title="• copy your notes"
            onclick="copyNotes()"
          >
            content_copy
          </li>
          <li
            class="nav-item material-symbols-outlined nav-link deco dark-text"
            title="• export your notes as an image"
            onclick="exportNotes()"
          >
            download
          </li>
          <li
            class="nav-item material-symbols-outlined nav-link deco dark-text"
            title="• export your notes as html"
            onclick="exportAsHtml()"
          >
            html
          </li>
        </ul>
      </div>
    </header>
    <!-- gives an alert to you if you copied the link -->
    <div
      class="alert alert-info alert-dismissible text-center shadow-sm visually-hidden"
      id="copy-link"
    >
      • copied link
      <button
        class="btn-close"
        onclick="document.querySelector('#copy-link').classList.add('visually-hidden')"
      ></button>
    </div>
    <!-- gives an alert to you if you copied your notes -->
    <div
      class="alert alert-info alert-dismissible text-center shadow-sm visually-hidden"
      id="copy-notes"
    >
      • copied notes
      <button
        class="btn-close"
        onclick="document.querySelector('#copy-notes').classList.add('visually-hidden')"
      ></button>
    </div>
    <!-- show an alert if you exported your notes as html -->
    <div
      class="alert alert-info alert-dismissible text-center shadow-sm visually-hidden"
      id="copy-html"
    >
      • copied html
      <button
        class="btn-close"
        onclick="document.querySelector('#copy-html').classList.add('visually-hidden')"
      ></button>
    </div>
    <!-- just shows an error message -->
    <div
      class="alert alert-warning alert-dismissible text-center shadow-sm visually-hidden"
      id="show-cors-error"
    >
      • failed to download image
      <button
        class="btn-close"
        onclick="document.querySelector('#show-cors-error').classList.add('visually-hidden')"
      ></button>
    </div>
    <!-- the main place where you write and see your notes -->
    <div class="container-fluid mt-2 h-75" style="width: 98%">
      <div class="row">
        <div class="col-6 text-center" id="input">
          <textarea
            class="shadow-sm border rounded w-100 p-2 dark-text light-bg"
            style="
              outline: none;
              font-family: 'Roboto Mono', sans-serif;
              width: 6fr;
            "
            rows="15"
          ></textarea>
        </div>
        <div
          class="col-6 border rounded shadow-sm markdown-body dark-text light-bg"
          style="width: 6fr; padding: 15px; height: fit-content"
          id="output"
        ></div>
      </div>
    </div>
    <br /><br /><br />
  </body>
</html>
